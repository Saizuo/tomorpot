function buildView() {
    if ("Potato" === randomVegetable) {
        $(".vegetable").html('<img src="images/potato.svg" class="animated zoomIn" alt="Potato or Tomato?">');
        $("button").addClass("potatoBrown");
    } else if ("Tomato" === randomVegetable) {
        $(".vegetable").html('<img src="images/tomato.svg" class="animated zoomIn" alt="Potato or Tomato?">');
        $("button").addClass("tomatoRed");
    }
}

function runAnswer() {
    $("button").on("click", function() {
        var t = $(this).val();
        if (t === randomVegetable) {
            $(".result").fadeIn(650);
            $("#confetti").show();
            $(".result__content").html(
                "<p>Yup, that's a " + t + "!</p><p>You'd be surprised by how many have guessed wrong!</p><p><a class=\"popup alt--button\" href=\"https://pump.fun/9ujGSs5Uskft3NCtQ9kFckAu8omvM2PC6t1n6WTapump\" onclick=\"ga('send', 'event', 'Social', 'Share', 'Twitter');\"><span class=\"fa-solid fa-cart-shopping\"></span>&nbsp;&nbsp;Pump.fun</a><a class=\"alt--button\" href=\"/\" data-ajax=\"false\" onclick=\"ga('send', 'event', 'Game', 'Action', 'Replay');\"><span class=\"fa fa-refresh\"></span>&nbsp;&nbsp;Play Again</a></p>"
            );
            $(".popup").click(function(t) {
                window.open(this.href, "_blank");
                return false;
            });
        } else {
            $(".vegetable img").removeClass("zoomIn").addClass("shake").on("animationend webkitAnimationEnd oAnimationEnd mozAnimationEnd msAnimationEnd", function() {
                $(this).removeClass("shake");
            });
            $(".result").fadeIn(650);
            $(".result__content").html('<div class="incorrect"><span class="animated fadeIn">no</span><span class="animated fadeIn">no</span><span class="animated fadeIn">no</span></div>');
            $(".incorrect span:last-child").on("animationend webkitAnimationEnd oAnimationEnd mozAnimationEnd msAnimationEnd", function() {
                $(".result").fadeOut(650);
            });
        }
    });
}

var vegetables = ["Potato", "Tomato"],
    randomVegetable = vegetables[Math.floor(Math.random() * vegetables.length)];

$(document).ready(function() {
    $(".popup").click(function(t) {
        window.open(this.href, "_blank");
        return false;
    });
});

buildView();
runAnswer();
